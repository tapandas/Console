var a0_0x175f=['node','askGatewayConfig','setAllNodes','sendMessage','connection_time','length','size','scratchpad','log','assign','error','setAllMessages','last_gateway','uplink','configs','message','onGatewayConfigReceived','src_add','connected','askForSinkOtapStatus','onSinkConfigReceived','isConnected','getAllMessages','connection_host','isEqual','onSinkScratchpadStatusReceived','getAllNodes','onMessageReceived','messages','New\x20connection\x20status:','setAllGateways','last_seen','connection','keys','forEach','includes','setConnectionLogs','connect','onConnectionStateChange','rx_ts','sink_id','gateway','gw_id','suppressOfflineGateway','info','Removing\x20sink:\x20','getAllGateways','push'];(function(_0x44f8ad,_0x175f70){var _0x2022ee=function(_0x41786a){while(--_0x41786a){_0x44f8ad['push'](_0x44f8ad['shift']());}};_0x2022ee(++_0x175f70);}(a0_0x175f,0x1db));var a0_0x2022=function(_0x44f8ad,_0x175f70){_0x44f8ad=_0x44f8ad-0x0;var _0x2022ee=a0_0x175f[_0x44f8ad];return _0x2022ee;};'use strict';var mainApp=function(){var _0x193e3b=a0_0x2022,_0x41786a={},_0x13dcaf=[],_0x1ac590={},_0x468248={},_0x478210=0x0,_0x537d0b=[];_0x41786a[_0x193e3b('0x1c')]=null,_0x41786a[_0x193e3b('0x9')]=null;function _0x3a3925(_0x32409e){let _0x4844f1=_0x468248[_0x32409e];return _0x4844f1==null&&(_0x468248[_0x32409e]={'connected':![],'configs':null,'info':null},_0x4844f1=_0x468248[_0x32409e]),_0x4844f1;}function _0x441bc4(_0x21d03e,_0x4a95f4){var _0x29016a=_0x193e3b;_0x21d03e[_0x29016a('0x13')]==null&&(_0x21d03e[_0x29016a('0x13')]=[]);for(var _0x283115=0x0,_0x368b7f=_0x21d03e[_0x29016a('0x13')][_0x29016a('0xa')];_0x283115<_0x368b7f;_0x283115++){_0x21d03e['configs'][_0x283115][_0x29016a('0x2d')]===_0x4a95f4&&(_0x21d03e['configs'][_0x283115][_0x29016a('0xc')]=null);}}function _0x5d901f(_0x3d3d37,_0x5242b1,_0x353257,_0x22accc){var _0x212c98=_0x193e3b;_0x3d3d37[_0x212c98('0x13')]==null&&(_0x3d3d37[_0x212c98('0x13')]=[]);for(var _0x5ebb9e=0x0,_0x27dd4d=_0x3d3d37[_0x212c98('0x13')][_0x212c98('0xa')];_0x5ebb9e<_0x27dd4d;_0x5ebb9e++){if(_0x3d3d37[_0x212c98('0x13')][_0x5ebb9e]['sink_id']===_0x5242b1){let _0x6a1802=Object[_0x212c98('0xe')]({},_0x3d3d37[_0x212c98('0x13')][_0x5ebb9e]);return _0x22accc==null&&_0x212c98('0xc')in _0x3d3d37['configs'][_0x5ebb9e]&&(_0x22accc=_0x3d3d37[_0x212c98('0x13')][_0x5ebb9e][_0x212c98('0xc')]),_0x353257!=null&&(_0x3d3d37[_0x212c98('0x13')][_0x5ebb9e]=_0x353257),_0x22accc!=null&&(Object[_0x212c98('0x26')](_0x22accc)[_0x212c98('0x27')](_0x1f7da5=>{var _0x5c8f11=_0x212c98;_0x3d3d37[_0x5c8f11('0x13')][_0x5ebb9e][_0x1f7da5]=_0x22accc[_0x1f7da5];}),_0x3d3d37[_0x212c98('0x13')][_0x5ebb9e]['scratchpad']=_0x22accc),!_[_0x212c98('0x1d')](_0x6a1802,_0x3d3d37[_0x212c98('0x13')][_0x5ebb9e]);}}return _0x353257[_0x212c98('0xc')]=_0x22accc,_0x3d3d37['configs'][_0x212c98('0x4')](_0x353257),!![];}function _0x5af6b6(_0x1e0e84,_0x2f7b32){var _0x1a746f=_0x193e3b;let _0x3ba4d6=[];_0x1e0e84[_0x1a746f('0x13')]==null&&(_0x1e0e84[_0x1a746f('0x13')]=[]);for(var _0x157589=0x0,_0x28d7f3=_0x1e0e84[_0x1a746f('0x13')][_0x1a746f('0xa')];_0x157589<_0x28d7f3;_0x157589++){if(_0x2f7b32[_0x1a746f('0x28')](_0x1e0e84[_0x1a746f('0x13')][_0x157589][_0x1a746f('0x2d')]))continue;console[_0x1a746f('0xd')](_0x1a746f('0x2')+_0x1e0e84[_0x1a746f('0x13')][_0x157589][_0x1a746f('0x2d')]),_0x3ba4d6[_0x1a746f('0x4')](_0x157589);}for(var _0x157589=_0x3ba4d6[_0x1a746f('0xa')]-0x1;_0x157589>=0x0;_0x157589--){_0x1e0e84['configs']['splice'](_0x157589,0x1);}}return _0x41786a[_0x193e3b('0x15')]=function(_0xbe577d,_0x3e2722,_0x502011){var _0x2eb8e5=_0x193e3b;let _0x5aa3f8=_0x3a3925(_0xbe577d);if(_0x3e2722!=null){_0x5aa3f8[_0x2eb8e5('0x17')]=_0x3e2722[_0x2eb8e5('0x17')];if(_0x3e2722[_0x2eb8e5('0x13')]!=null){let _0x17bc4f=[];_0x3e2722[_0x2eb8e5('0x13')][_0x2eb8e5('0x27')](_0x3f6b8e=>{var _0x1f551e=_0x2eb8e5;_0x5d901f(_0x5aa3f8,_0x3f6b8e[_0x1f551e('0x2d')],_0x3f6b8e,null),_0x17bc4f[_0x1f551e('0x4')](_0x3f6b8e[_0x1f551e('0x2d')]);}),_0x5af6b6(_0x5aa3f8,_0x17bc4f);}}_0x502011!=null&&(_0x5aa3f8[_0x2eb8e5('0x1')]=_0x502011),update_ui(_0x2eb8e5('0x2e'));},_0x41786a[_0x193e3b('0x19')]=function(_0x5d1ee9,_0x28f5e2,_0x44bfd6){var _0x20e3f6=_0x193e3b;let _0x2fba24=_0x3a3925(_0x5d1ee9);var _0x569801=_0x5d901f(_0x2fba24,_0x28f5e2,_0x44bfd6,null);_0x569801&&update_ui(_0x20e3f6('0x2e'));},_0x41786a[_0x193e3b('0x1e')]=function(_0x598189,_0xefa330,_0x4cc613){var _0x1054ce=_0x193e3b;let _0x140ccc=_0x3a3925(_0x598189);if(_0x140ccc==null||_0x140ccc[_0x1054ce('0x13')]==null){console[_0x1054ce('0xf')]('Sink\x20Scratchpad\x20status\x20for\x20unknown\x20gateway\x20sink');return;}if(_0x4cc613==null)_0x441bc4(_0x140ccc,_0xefa330),update_ui(_0x1054ce('0x2e'));else{var _0x4cde56=_0x5d901f(_0x140ccc,_0xefa330,null,_0x4cc613);_0x4cde56&&update_ui(_0x1054ce('0x2e'));}},_0x41786a['onMessageReceived']=function(_0x2abbd6){var _0x3c348=_0x193e3b;_0x13dcaf[_0x3c348('0x4')](_0x2abbd6);if(!_0x2abbd6[_0x3c348('0x12')]){_0x478210++;let _0x2efd36=_0x468248[_0x2abbd6['gw_id']];if(_0x2efd36!=null&_0x2efd36['configs']!=null){for(let _0x3cebab of _0x2efd36[_0x3c348('0x13')]){if(_0x3cebab[_0x3c348('0x2d')]==_0x2abbd6[_0x3c348('0x2d')]){_0x2abbd6['network_id']=_0x3cebab['network_address'];break;}};}}if(!_0x2abbd6[_0x3c348('0x12')]){update_ui(_0x3c348('0x14'));return;}let _0x5a8ece=_0x2abbd6['src_add'],_0x121ffd=_0x1ac590[_0x5a8ece];_0x121ffd==null?_0x1ac590[_0x5a8ece]={'node_id':_0x2abbd6[_0x3c348('0x16')],'last_seen':get_formated_date_from_ts(_0x2abbd6[_0x3c348('0x2c')]),'last_gateway':_0x2abbd6[_0x3c348('0x2f')],'last_sink':_0x2abbd6[_0x3c348('0x2d')],'messages':0x1}:(_0x121ffd[_0x3c348('0x24')]=get_formated_date_from_ts(_0x2abbd6[_0x3c348('0x2c')]),_0x121ffd[_0x3c348('0x11')]=_0x2abbd6[_0x3c348('0x2f')],_0x121ffd['last_sink']=_0x2abbd6['sink_id'],_0x121ffd[_0x3c348('0x21')]+=0x1,update_ui(_0x3c348('0x5'))),update_ui(_0x3c348('0x14'));},_0x41786a[_0x193e3b('0x2b')]=function(_0x569471,_0x4ab160){var _0x458a9c=_0x193e3b;_0x569471?(_0x41786a[_0x458a9c('0x9')]=new Date(),_0x537d0b['push']({'new_state':!![],'date':get_ts(),'host':_0x4ab160})):(_0x41786a['connection_time']=null,_0x537d0b[_0x458a9c('0x4')]({'new_state':![],'date':get_ts(),'host':_0x4ab160})),console['log'](_0x458a9c('0x22')+_0x569471),update_ui(_0x458a9c('0x25'));},_0x41786a['connect']=function(_0x221029,_0x28b87a,_0xeffb53,_0x26a34a,_0x123bb2){var _0x18e9a5=_0x193e3b;_0x221029!=_0x41786a[_0x18e9a5('0x1c')]&&(this[_0x18e9a5('0x23')]({}),this[_0x18e9a5('0x10')]([]),this[_0x18e9a5('0x7')]({}),_0x478210=0x0),_0x41786a[_0x18e9a5('0x1c')]=_0x221029,networkInterface[_0x18e9a5('0x2a')](_0x221029,_0x28b87a,_0xeffb53,_0x26a34a,_0x123bb2,{'onMessageReceived':mainApp[_0x18e9a5('0x20')],'onGatewayConfigReceived':mainApp[_0x18e9a5('0x15')],'onSinkConfigReceived':mainApp[_0x18e9a5('0x19')],'onConnectionStateChange':mainApp[_0x18e9a5('0x2b')],'onSinkScratchpadStatusReceived':mainApp[_0x18e9a5('0x1e')]});},_0x41786a[_0x193e3b('0x1a')]=function(){return networkInterface['isConnected']();},_0x41786a['getConnectionLogs']=function(){return _0x537d0b;},_0x41786a[_0x193e3b('0x29')]=function(_0x4784ee){var _0x534eb6=_0x193e3b;_0x537d0b=_0x4784ee,update_ui(_0x534eb6('0x25'));},_0x41786a[_0x193e3b('0x1f')]=function(){return _0x1ac590;},_0x41786a[_0x193e3b('0x7')]=function(_0x24ac63){_0x1ac590=_0x24ac63,update_ui('node');},_0x41786a['getNumberOfNodes']=function(){var _0x33c73d=_0x193e3b;return _[_0x33c73d('0xb')](_0x1ac590);},_0x41786a[_0x193e3b('0x3')]=function(){return _0x468248;},_0x41786a[_0x193e3b('0x23')]=function(_0xd363e5){var _0x25a1d0=_0x193e3b;_0x468248=_0xd363e5,update_ui(_0x25a1d0('0x2e'));},_0x41786a['getNumberOfGateways']=function(){var _0x427509=_0x193e3b;return _[_0x427509('0xb')](_0x468248);},_0x41786a[_0x193e3b('0x1b')]=function(){return _0x13dcaf;},_0x41786a['getNumberOfMessages']=function(){return _['size'](_0x13dcaf);},_0x41786a['getNumberOfDownlinkMessages']=function(){return _0x478210;},_0x41786a[_0x193e3b('0x0')]=function(_0x28669b){var _0x378ca6=_0x193e3b;return delete _0x468248[_0x28669b],update_ui(_0x378ca6('0x2e')),networkInterface[_0x378ca6('0x0')](_0x28669b);},_0x41786a[_0x193e3b('0x6')]=function(_0x1951c1){var _0x2f8cec=_0x193e3b;return networkInterface[_0x2f8cec('0x6')](_0x1951c1);},_0x41786a[_0x193e3b('0x18')]=function(_0x859c5a,_0x332d75){var _0x1acda4=_0x193e3b;return networkInterface[_0x1acda4('0x18')](_0x859c5a,_0x332d75);},_0x41786a['setAllMessages']=function(_0x3393ec){var _0x579705=_0x193e3b;_0x13dcaf=_0x3393ec,update_ui(_0x579705('0x14'));},_0x41786a['sendMessage']=function(_0x2f68a8){var _0x4d8645=_0x193e3b;return networkInterface[_0x4d8645('0x8')](_0x2f68a8);},_0x41786a;}();